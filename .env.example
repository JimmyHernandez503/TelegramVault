# TelegramVault Configuration File
# Copy this file to .env and update with your actual values

# ============================================================================
# MEDIA CONFIGURATION
# ============================================================================

# Directory for storing media files
# Type: string
# Default: media
MEDIA_DIR=media

# Maximum number of retry attempts for media downloads
# Type: integer
# Range: 1-10
# Default: 3
MEDIA_RETRY_MAX_ATTEMPTS=3

# Base delay in seconds for exponential backoff
# Type: integer
# Range: 1-60
# Default: 2
MEDIA_RETRY_DELAY_BASE=2

# Timeout in seconds for media downloads
# Type: integer
# Range: 5-300
# Default: 30
MEDIA_DOWNLOAD_TIMEOUT=30

# Enable validation of downloaded media files
# Type: boolean
# Default: true
MEDIA_VALIDATION_ENABLED=true

# ============================================================================
# SEARCH CONFIGURATION
# ============================================================================

# Language configuration for full-text search
# Type: string
# Pattern: lowercase letters only
# Default: spanish
# Examples: spanish, english, french, german
SEARCH_FTS_LANGUAGE=spanish

# Enable fallback to ILIKE when FTS fails
# Type: boolean
# Default: true
SEARCH_FALLBACK_TO_ILIKE=true

# Log full-text search failures
# Type: boolean
# Default: true
SEARCH_LOG_FAILURES=true

# ============================================================================
# DETECTION CONFIGURATION
# ============================================================================

# Maximum size of regex pattern cache
# Type: integer
# Range: 10-10000
# Default: 1000
DETECTION_CACHE_SIZE=1000

# Validate regex patterns before compilation
# Type: boolean
# Default: true
DETECTION_VALIDATE_PATTERNS=true

# Log regex compilation errors
# Type: boolean
# Default: true
DETECTION_LOG_COMPILATION_ERRORS=true

# ============================================================================
# USER ENRICHMENT CONFIGURATION
# ============================================================================

# Timeout in seconds for user enrichment API calls
# Type: integer
# Range: 5-120
# Default: 30
USER_ENRICHMENT_TIMEOUT=30

# Maximum retry attempts for user enrichment
# Type: integer
# Range: 1-10
# Default: 3
USER_ENRICHMENT_MAX_RETRIES=3

# Batch size for user enrichment operations
# Type: integer
# Range: 1-100
# Default: 20
USER_ENRICHMENT_BATCH_SIZE=20

# Cache TTL in seconds for enrichment status tracking
# Type: integer
# Range: 60-3600
# Default: 300 (5 minutes)
USER_ENRICHMENT_CACHE_TTL=300

# Enable automatic enrichment for unknown users
# Type: boolean
# Default: true
USER_ENRICHMENT_AUTO_TRIGGER=true

# Enable WebSocket notifications for enrichment completion
# Type: boolean
# Default: true
USER_ENRICHMENT_WEBSOCKET_NOTIFY=true

# Maximum concurrent enrichment operations
# Type: integer
# Range: 1-50
# Default: 3
USER_ENRICHMENT_CONCURRENT_LIMIT=3

# ============================================================================
# PASSIVE ENRICHMENT CONFIGURATION
# ============================================================================

# Enable passive background enrichment of all users
# Type: boolean
# Default: true
PASSIVE_ENRICHMENT_ENABLED=true

# Number of users to process per enrichment cycle
# Type: integer
# Range: 10-500
# Default: 50
PASSIVE_ENRICHMENT_BATCH_SIZE=50

# Delay in seconds between enrichment cycles
# Type: integer
# Range: 60-3600
# Default: 300 (5 minutes)
PASSIVE_ENRICHMENT_CYCLE_DELAY=300

# Maximum retry attempts for failed enrichments
# Type: integer
# Range: 1-10
# Default: 3
PASSIVE_ENRICHMENT_MAX_RETRIES=3

# Days before re-enriching users with existing photos
# Type: integer
# Range: 1-365
# Default: 30
PASSIVE_ENRICHMENT_RE_ENRICH_DAYS=30

# ============================================================================
# TELEGRAM API CONFIGURATION
# ============================================================================

# Maximum retry attempts for Telegram API calls
# Type: integer
# Range: 1-10
# Default: 5
TELEGRAM_API_RETRY_MAX_ATTEMPTS=5

# Base delay in seconds for API retry backoff
# Type: integer
# Range: 1-30
# Default: 1
TELEGRAM_API_RETRY_DELAY_BASE=1

# Enable jitter in retry backoff
# Type: boolean
# Default: true
TELEGRAM_API_RETRY_JITTER=true

# Timeout in seconds for Telegram API calls
# Type: integer
# Range: 5-120
# Default: 30
TELEGRAM_API_TIMEOUT=30

# Telegram API ID (REQUIRED - Get from https://my.telegram.org)
# Type: integer
# SENSITIVE: This value will be masked in logs
TELEGRAM_API_ID=your_api_id_here

# Telegram API Hash (REQUIRED - Get from https://my.telegram.org)
# Type: string
# SENSITIVE: This value will be masked in logs
TELEGRAM_API_HASH=your_api_hash_here

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Logging level
# Type: string
# Valid values: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Default: INFO
LOG_LEVEL=INFO

# Log format
# Type: string
# Valid values: json, text
# Default: json
LOG_FORMAT=json

# Path to log file
# Type: string
# Default: logs/app.log
LOG_FILE=logs/app.log

# Maximum log file size in MB
# Type: integer
# Range: 1-1000
# Default: 100
LOG_MAX_SIZE_MB=100

# Number of log backup files to keep
# Type: integer
# Range: 1-50
# Default: 5
LOG_BACKUP_COUNT=5

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database connection URL (REQUIRED)
# Type: string
# Format: postgresql://user:password@host:port/database
# SENSITIVE: This value will be masked in logs
# Example: postgresql://telegramvault:password@localhost:5432/telegramvault
DATABASE_URL=postgresql://user:password@localhost:5432/telegramvault

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Secret key for JWT tokens (REQUIRED)
# Type: string
# SENSITIVE: This value will be masked in logs
# IMPORTANT: Change this in production! Use a strong random string.
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-change-in-production

# ============================================================================
# NOTES
# ============================================================================
#
# - Boolean values can be: true/false, 1/0, yes/no, on/off (case-insensitive)
# - All REQUIRED fields must be set before starting the application
# - SENSITIVE fields will be masked in logs (only last 4 characters shown)
# - Integer ranges are enforced - values outside range will trigger warnings
# - String patterns are validated using regex
# - Missing optional values will use defaults specified above
#
# For more detailed documentation, see docs/CONFIGURATION.md
